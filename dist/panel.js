(()=>{var M=e=>e<200?"":e<300?"success":e<400?"redirect":"fail";var V=Object.prototype.toString,R=Array.isArray||function(t){return V.call(t)==="[object Array]"};function B(e){return typeof e=="function"}function X(e){return R(e)?"array":typeof e}function U(e){return e.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&")}function H(e,t){return e!=null&&typeof e=="object"&&t in e}function Y(e,t){return e!=null&&typeof e!="object"&&e.hasOwnProperty&&e.hasOwnProperty(t)}var Z=RegExp.prototype.test;function ee(e,t){return Z.call(e,t)}var te=/\S/;function re(e){return!ee(te,e)}var ne={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;","`":"&#x60;","=":"&#x3D;"};function oe(e){return String(e).replace(/[&<>"'`=\/]/g,function(r){return ne[r]})}var se=/\s*/,ae=/\s+/,_=/\s*=/,ie=/\s*\}/,ue=/#|\^|\/|>|\{|&|=|!/;function ce(e,t){if(!e)return[];var r=!1,n=[],o=[],s=[],a=!1,i=!1,u="",c=0;function f(){if(a&&!i)for(;s.length;)delete o[s.pop()];else s=[];a=!1,i=!1}var g,b,D;function A(y){if(typeof y=="string"&&(y=y.split(ae,2)),!R(y)||y.length!==2)throw new Error("Invalid tags: "+y);g=new RegExp(U(y[0])+"\\s*"),b=new RegExp("\\s*"+U(y[1])),D=new RegExp("\\s*"+U("}"+y[1]))}A(t||v.tags);for(var l=new x(e),w,d,h,S,L,E;!l.eos();){if(w=l.pos,h=l.scanUntil(g),h)for(var P=0,Q=h.length;P<Q;++P)S=h.charAt(P),re(S)?(s.push(o.length),u+=S):(i=!0,r=!0,u+=" "),o.push(["text",S,w,w+1]),w+=1,S===`
`&&(f(),u="",c=0,r=!1);if(!l.scan(g))break;if(a=!0,d=l.scan(ue)||"name",l.scan(se),d==="="?(h=l.scanUntil(_),l.scan(_),l.scanUntil(b)):d==="{"?(h=l.scanUntil(D),l.scan(ie),l.scanUntil(b),d="&"):h=l.scanUntil(b),!l.scan(b))throw new Error("Unclosed tag at "+l.pos);if(d==">"?L=[d,h,w,l.pos,u,c,r]:L=[d,h,w,l.pos],c++,o.push(L),d==="#"||d==="^")n.push(L);else if(d==="/"){if(E=n.pop(),!E)throw new Error('Unopened section "'+h+'" at '+w);if(E[1]!==h)throw new Error('Unclosed section "'+E[1]+'" at '+w)}else d==="name"||d==="{"||d==="&"?i=!0:d==="="&&A(h)}if(f(),E=n.pop(),E)throw new Error('Unclosed section "'+E[1]+'" at '+l.pos);return pe(le(o))}function le(e){for(var t=[],r,n,o=0,s=e.length;o<s;++o)r=e[o],r&&(r[0]==="text"&&n&&n[0]==="text"?(n[1]+=r[1],n[3]=r[3]):(t.push(r),n=r));return t}function pe(e){for(var t=[],r=t,n=[],o,s,a=0,i=e.length;a<i;++a)switch(o=e[a],o[0]){case"#":case"^":r.push(o),n.push(o),r=o[4]=[];break;case"/":s=n.pop(),s[5]=o[2],r=n.length>0?n[n.length-1][4]:t;break;default:r.push(o)}return t}function x(e){this.string=e,this.tail=e,this.pos=0}x.prototype.eos=function(){return this.tail===""};x.prototype.scan=function(t){var r=this.tail.match(t);if(!r||r.index!==0)return"";var n=r[0];return this.tail=this.tail.substring(n.length),this.pos+=n.length,n};x.prototype.scanUntil=function(t){var r=this.tail.search(t),n;switch(r){case-1:n=this.tail,this.tail="";break;case 0:n="";break;default:n=this.tail.substring(0,r),this.tail=this.tail.substring(r)}return this.pos+=n.length,n};function T(e,t){this.view=e,this.cache={".":this.view},this.parent=t}T.prototype.push=function(t){return new T(t,this)};T.prototype.lookup=function(t){var r=this.cache,n;if(r.hasOwnProperty(t))n=r[t];else{for(var o=this,s,a,i,u=!1;o;){if(t.indexOf(".")>0)for(s=o.view,a=t.split("."),i=0;s!=null&&i<a.length;)i===a.length-1&&(u=H(s,a[i])||Y(s,a[i])),s=s[a[i++]];else s=o.view[t],u=H(o.view,t);if(u){n=s;break}o=o.parent}r[t]=n}return B(n)&&(n=n.call(this.view)),n};function p(){this.templateCache={_cache:{},set:function(t,r){this._cache[t]=r},get:function(t){return this._cache[t]},clear:function(){this._cache={}}}}p.prototype.clearCache=function(){typeof this.templateCache<"u"&&this.templateCache.clear()};p.prototype.parse=function(t,r){var n=this.templateCache,o=t+":"+(r||v.tags).join(":"),s=typeof n<"u",a=s?n.get(o):void 0;return a==null&&(a=ce(t,r),s&&n.set(o,a)),a};p.prototype.render=function(t,r,n,o){var s=this.getConfigTags(o),a=this.parse(t,s),i=r instanceof T?r:new T(r,void 0);return this.renderTokens(a,i,n,t,o)};p.prototype.renderTokens=function(t,r,n,o,s){for(var a="",i,u,c,f=0,g=t.length;f<g;++f)c=void 0,i=t[f],u=i[0],u==="#"?c=this.renderSection(i,r,n,o,s):u==="^"?c=this.renderInverted(i,r,n,o,s):u===">"?c=this.renderPartial(i,r,n,s):u==="&"?c=this.unescapedValue(i,r):u==="name"?c=this.escapedValue(i,r,s):u==="text"&&(c=this.rawValue(i)),c!==void 0&&(a+=c);return a};p.prototype.renderSection=function(t,r,n,o,s){var a=this,i="",u=r.lookup(t[1]);function c(b){return a.render(b,r,n,s)}if(u){if(R(u))for(var f=0,g=u.length;f<g;++f)i+=this.renderTokens(t[4],r.push(u[f]),n,o,s);else if(typeof u=="object"||typeof u=="string"||typeof u=="number")i+=this.renderTokens(t[4],r.push(u),n,o,s);else if(B(u)){if(typeof o!="string")throw new Error("Cannot use higher-order sections without the original template");u=u.call(r.view,o.slice(t[3],t[5]),c),u!=null&&(i+=u)}else i+=this.renderTokens(t[4],r,n,o,s);return i}};p.prototype.renderInverted=function(t,r,n,o,s){var a=r.lookup(t[1]);if(!a||R(a)&&a.length===0)return this.renderTokens(t[4],r,n,o,s)};p.prototype.indentPartial=function(t,r,n){for(var o=r.replace(/[^ \t]/g,""),s=t.split(`
`),a=0;a<s.length;a++)s[a].length&&(a>0||!n)&&(s[a]=o+s[a]);return s.join(`
`)};p.prototype.renderPartial=function(t,r,n,o){if(n){var s=this.getConfigTags(o),a=B(n)?n(t[1]):n[t[1]];if(a!=null){var i=t[6],u=t[5],c=t[4],f=a;u==0&&c&&(f=this.indentPartial(a,c,i));var g=this.parse(f,s);return this.renderTokens(g,r,n,f,o)}}};p.prototype.unescapedValue=function(t,r){var n=r.lookup(t[1]);if(n!=null)return n};p.prototype.escapedValue=function(t,r,n){var o=this.getConfigEscape(n)||v.escape,s=r.lookup(t[1]);if(s!=null)return typeof s=="number"&&o===v.escape?String(s):o(s)};p.prototype.rawValue=function(t){return t[1]};p.prototype.getConfigTags=function(t){return R(t)?t:t&&typeof t=="object"?t.tags:void 0};p.prototype.getConfigEscape=function(t){if(t&&typeof t=="object"&&!R(t))return t.escape};var v={name:"mustache.js",version:"4.2.0",tags:["{{","}}"],clearCache:void 0,escape:void 0,parse:void 0,render:void 0,Scanner:void 0,Context:void 0,Writer:void 0,set templateCache(e){k.templateCache=e},get templateCache(){return k.templateCache}},k=new p;v.clearCache=function(){return k.clearCache()};v.parse=function(t,r){return k.parse(t,r)};v.render=function(t,r,n,o){if(typeof t!="string")throw new TypeError('Invalid template! Template should be a "string" but "'+X(t)+'" was given as the first argument for mustache#render(template, view, partials)');return k.render(t,r,n,o)};v.escape=oe;v.Scanner=x;v.Context=T;v.Writer=p;var j=v;var I=async(e,t)=>{let r=await new Promise(n=>{e.getContent(o=>{n(o)})});return e.response.content={...e.response.content,text:r},j.render(`${t.trim()}`,e)};var O=async()=>{let e=await fetch("./defaultTemplate.mustache");if(!e.body)throw Error();let t=e.body.getReader(),{value:r}=await t.read();return new TextDecoder().decode(r)};var C=(e,t)=>{let r=document.querySelector(e);if(!r)throw`Button element (${e}) not found.`;r.addEventListener("click",t),document.addEventListener("beforeunload",()=>{r.removeEventListener("click",t)})};var W=e=>new Promise((t,r)=>{let n=document.createElement("textarea");n.value=e,document.body.append(n),n.select();let o=document.execCommand("copy");n.remove(),o||r(new Error("Unable to write to clipboard"))});var F=({index:e,entry:t})=>{let r=document.querySelector(`#button-${e}`);if(!r)throw`Cell for button not found: "#button-${e}"`;let n=document.createElement("button"),o=new URL(t.request.url);n.classList.add("href-button"),n.setAttribute("data-index",e.toString()),n.innerText=o.href.replace(o.origin,""),r.appendChild(n);let s=document.querySelector(`#report-${e}`);if(!s)throw`Report tr not found: "#report-${e}"`;let a=async()=>{let i=s.querySelector("pre");if(!i)throw"Report pre element not found";let u=await O();if(!i.textContent){let c=await I(t,u);i.innerHTML=c}s.classList.toggle("hidden")};C(`#button-${e} button.href-button`,a),C(`#report-${e} button.copy`,async i=>{let u=s.querySelector("pre").innerText;try{await W(u),i.target.innerText="Copied!"}catch(c){console.error(c)}})};var N=(e,t)=>{let r=document.querySelector(`${"#table"} tbody`),{status:n}=e.response,{method:o}=e.request,s=M(n);r.insertAdjacentHTML("beforeend",`<tr>
      <td>
        <time datetime="${e.startedDateTime}" class="time">
          ${new Date(e.startedDateTime).toLocaleTimeString()}
        </time>
      </td>
      <td>${o}</td>
      <td>
        <span class="status ${s}">
          ${n}
        </span>
      </td>
      <td class="endpoint" id="button-${t}"></td>
    </tr>
    <tr class="hidden report ${s}" id="report-${t}">
      <td colspan="4">
        <button type="button" class="copy">
          Copy
        </button>
        <pre></pre>
      </td>
    </tr>
    `),F({index:t,entry:e})};var m={requests:[],isRecording:!0,allowedResourceTypes:["xhr","fetch"]};document.addEventListener("beforeunload",()=>{m.requests.length=0});var K=(e,t)=>{let r=document.querySelector(e);if(!r)throw`Element selector ${e} not found.`;r.innerText=t};var q=e=>{K("#status",`Entries: ${e}`)};var z=()=>{m.requests.length=0;let e=document.querySelector(`${"#table"} tbody`);if(!e)throw`${"#table"} element not found`;e.innerHTML="",q(0)};var G=e=>typeof e=="string";var fe=()=>{let e=document.querySelector("#status-dot");if(!e)throw`${"#status-dot"} not found`;let t="status-dot--recording";if(m.isRecording&&!e.classList.contains(t)){e.classList.add(t);return}e.classList.remove(t)},J=e=>{m.isRecording=!m.isRecording,e.target.innerText=m.isRecording?"Pause":"Restore",fe()};chrome.devtools.network.onRequestFinished.addListener(e=>{if(!m.isRecording)return;if(!G(e._resourceType))throw"request._resourceType value is not string";if(!m.allowedResourceTypes.includes(e._resourceType))return;let t=m.requests.push(e);N(e,t-1),q(t)}),document.addEventListener("DOMContentLoaded",()=>{C("#reset",z),C("#pause",J)});})();
/*! Bundled license information:

mustache/mustache.mjs:
  (*!
   * mustache.js - Logic-less {{mustache}} templates with JavaScript
   * http://github.com/janl/mustache.js
   *)
*/
